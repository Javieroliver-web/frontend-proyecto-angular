<!-- src/app/components/header/header.html -->
<header class="header-container">
  <div class="search-bar">
    <!-- B√∫squeda oculta por ahora -->
  </div>
  
  <div class="header-actions">

    <!-- Notificaciones con Dropdown -->
    <div class="notification-wrapper">
      <!-- Icono de campana para abrir/cerrar -->
      <img 
        src="assets/icons/notificationicon.png" 
        class="header-icon" 
        alt="Notificaciones"
        (click)="toggleDropdown()">
      
      <!-- Badge con contador -->
      <span class="badge-count" *ngIf="notificationCount > 0">
        {{ notificationCount }}
      </span>

      <!-- Dropdown de Notificaciones - COMPLETAMENTE CLICKABLE -->
      <div class="notif-dropdown" [class.show]="dropdownOpen">
        
        <!-- Header del dropdown -->
        <div class="notif-header">
          <h3>üì¨ Notificaciones</h3>
          <button 
            class="btn-mark-all" 
            *ngIf="notificaciones.length > 0"
            (click)="eliminarTodas($event)"
            type="button"
            title="Eliminar todas">
            üóëÔ∏è
          </button>
        </div>
        
        <!-- Lista de notificaciones -->
        <div class="notif-list" *ngIf="notificaciones.length > 0">
          <div class="notif-item" *ngFor="let notif of notificaciones">
            
            <!-- Icono de tipo -->
            <div class="notif-icon" [ngClass]="{
              'icon-info': notif.tipo === 'info',
              'icon-success': notif.tipo === 'exito',
              'icon-alert': notif.tipo === 'alerta'
            }">
              <span *ngIf="notif.tipo === 'info'">‚ÑπÔ∏è</span>
              <span *ngIf="notif.tipo === 'exito'">‚úÖ</span>
              <span *ngIf="notif.tipo === 'alerta'">‚ö†Ô∏è</span>
            </div>
            
            <!-- Contenido -->
            <div class="notif-content">
              <p class="notif-message">{{ notif.mensaje }}</p>
              <small class="notif-time">{{ notif.fecha | date: 'short' }}</small>
            </div>
            
            <!-- Bot√≥n eliminar individual -->
            <button 
              class="btn-close-notif" 
              (click)="eliminarNotificacion(notif, $event)"
              type="button"
              title="Eliminar">
              √ó
            </button>
          </div>
        </div>
        
        <!-- Estado vac√≠o -->
        <div class="notif-empty" *ngIf="notificaciones.length === 0">
          <p>üéâ No hay notificaciones nuevas</p>
        </div>
        
      </div>
    </div>

    <!-- Avatar Usuario -->
    <div class="user-profile">
      <div class="avatar">{{ getInitials() }}</div>
    </div>
    
    <!-- Bot√≥n Logout -->
    <a (click)="logout()" class="logout-btn" title="Cerrar sesi√≥n">
      <img src="assets/icons/exiticon.png" style="height: 24px;" alt="Salir">
    </a>
  </div>
</header>