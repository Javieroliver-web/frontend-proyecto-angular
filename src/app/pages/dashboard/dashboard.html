<h2 class="section-title">Resumen</h2>

<div class="stats-row">
  <div class="stat-box">
    <h3>{{ stats.tareasPendientes }}</h3>
    <span>Tareas Pendientes</span>
  </div>
  <div class="stat-box">
    <h3>{{ stats.proyectosActivos }}</h3>
    <span>Proyectos Activos</span>
  </div>
</div>

<h2 class="section-title">Proyectos recientes</h2>

<div class="rec-grid">
  <div class="rec-card" 
       *ngFor="let p of stats.ultimosProyectos" 
       (click)="irAProyecto(p.id)">
    <h3>{{ p.nombre }}</h3>
    <span>{{ p.fecha_inicio }}</span>
  </div>
  
  <div *ngIf="stats.ultimosProyectos.length === 0" class="empty-state-card">
    <p>No hay proyectos recientes</p>
  </div>
</div>

<div class="tabs-header">
  <button class="tab-link active">PrÃ³ximas Tareas</button>
</div>

<div class="task-list">
  <div class="task-row" *ngFor="let t of stats.tareasProximas">
    <span class="task-title">{{ t.titulo }}</span>

    <span class="task-date" *ngIf="t.fecha_formateada">
      ğŸ“… {{ t.fecha_formateada }}
    </span>

    <div class="task-meta">
      <span class="badge" [ngClass]="{
        'badge-pending': t.estado === 'pendiente',
        'badge-progress': t.estado === 'en_progreso',
        'badge-done': t.estado === 'completada'
      }">
          {{ t.estado }}
      </span>
    </div>
  </div>
  
  <p *ngIf="stats.tareasProximas.length === 0" class="empty-text">
    Â¡EstÃ¡s al dÃ­a! No hay tareas prÃ³ximas.
  </p>
</div>